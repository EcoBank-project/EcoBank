<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org/"
xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{common/layouts/default_layout}"
	  layout:fragment="Content">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style>
    .challenge-container {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
        padding: 20px;
    }
    .challenge-card {
        flex: 0 1 22%; /*가로 4개씩*/
        margin-bottom: 20px;
        border: 1px solid #ddd;
        border-radius: 5px;
        overflow: hidden;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
    .challenge-card img {
        width: 100%;
        height: auto;
    }
    .challenge-card .card-body {
        padding: 15px;
        text-align: center;
    }
    .challenge-card .d-day {
        color: #ff0000;
        font-weight: bold;
        margin-bottom: 10px;
    }
    .challenge-card .btn {
        margin-top: 10px;
        width: 100%;
        color: white;
    }
    .challenge-links {
        display: flex;
        justify-content: center; /* 링크를 중앙에 정렬 */
        margin: 20px 0;
        padding: 20px 0;
        background-color: #f5f5f5; /* 배경색 추가 (옵션) */
        border-radius: 5px; /* 모서리 둥글게 하기 (옵션) */
        border: 1px solid #ddd; /* 테두리 추가 (옵션) */
    }
    
    .challenge-links ul {
        list-style: none; /* 기본 목록 스타일 제거 */
        padding: 0;
        margin: 0;
        display: flex; /* 리스트 항목들을 수평으로 배치 */
    }
    
    .challenge-links li {
        margin: 0 15px; /* 링크 간의 여백 조정 */
    }
    
    .challenge-links a {
        text-decoration: none;
        color: #333;
        font-size: 1.5em;
        font-weight: bold;
        padding: 10px 20px;
        transition: color 0.3s, border-bottom 0.3s; /* 부드러운 색상 변화와 하단 테두리 효과 */
    }
    
    .challenge-links a:hover {
        color: #007bff; /* 마우스 오버 시 링크 색상 변경 */
        border-bottom: 2px solid #007bff; /* 하단에 색상 변화 */
    }
    .challenge-count {
    	display: flex;
    	padding: 10px 20px;
    	color: black;
    }
</style>
</head>
<body>
	<div class="challenge-links">
		<ul>
			<li>
				<a th:href="@{/ready}" title="오픈 예정 챌린지" th:classappend="${status=='D1' ? 'active' : ''}">오픈 예정 챌린지</a> 
			</li>
			<li>
				<a th:href="@{/progress}" title="진행 중인 챌린지" th:classappend="${status=='D2' ? 'active' : ''}">진행 중인 챌린지</a> 
			</li>
			<li>
				<a th:href="@{/end}" title="종료된 챌린지" th:classappend="${status=='D3' ? 'active' : ''}">종료된 챌린지</a> 
			</li>
		</ul>
    </div>
    <div class="challenge-count">
	    <p>총 <span th:text="${count}" style="text-decoration: underline; font-weight: bold"></span>개의 챌린지</p>
    </div>
	<div class="challenge-container">
	    <div class="challenge-card" th:each="challenge : ${list}">
	        <img th:src="@{'/images/' + ${challenge.mainImg}}" alt="챌린지 메인 이미지" > 
	        <div class="card-body">
	            <!--/* <div class="d-day" th:text="'D-' + (${#dates.format(challenge.challStartAt, 'yyyy/MM/dd')} - ${#dates.format(challenge.challCreateAt, 'yyyy/MM/dd')})">D-날짜차이</div> */-->
	            <div class="d-day" id="dDay"  th:text="'D-' + ${challenge.daysUntilStart}"></div>
	            <h5 class="card-title">챌린지 제목 : [[ ${challenge.challTitle} ]]</h5>
	            <p class="card-text">챌린지 가이드 : [[ ${challenge.challContent} ]]</p>
	            <p th:if="${status=='D1'}" class="card-text">시작 일자 : [[ ${#dates.format(challenge.challStartAt, 'yyyy-MM-dd')} ]]</p>
	            <p th:if="${status=='D2'} OR ${status=='D3'}" class="card-text">진행 기간 : [[ ${#dates.format(challenge.challStartAt, 'yyyy-MM-dd')} ]] ~ [[ ${#dates.format(challenge.challCloseAt, 'yyyy-MM-dd')} ]]</p>
	            <a th:onclick="|location.href='@{detail(challNo=${challenge.challNo})}'|" class="btn btn-primary">챌린지 둘러보기</a>
		        <a th:if="${status=='D2'}" class="btn btn-primary">도전하기</a>
	        </div>
	    </div>
	</div>
	<script>
	
	</script>
</body>
</html>